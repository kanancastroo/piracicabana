pipeline {
  agent any

  stages {

    stage('Automatic email notification') {
      steps {
          emailext(
              attachLog: true,
              body: 'Hello, there!\n\nThis is an automatic email sent from the build run from this job in Jenkins. To view further datails, please check console output at $BUILD_URL.\n\nAuthor: ${CHANGES, showPaths=true, showDependencies=true, format="%a"}\nDate: ${CHANGES, showPaths=true, showDependencies=true, format="%d"}\nMessage: ${CHANGES, showPaths=true, showDependencies=true, format="%m"}Path: ${CHANGES, showPaths=true, showDependencies=true, format="%p"}Review: ${CHANGES, showPaths=true, showDependencies=true, format="%r"}',  
              subject: '$PROJECT_NAME - Build #$BUILD_NUMBER - $BUILD_STATUS', 
              to: 'kanan.silva@scipopulis.com'
              )
      }
    }
   
  }
}